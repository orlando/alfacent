// New all option_name

@title_size: default;
@title_color: default;
@title_weight: default;
@title_align: default;
@title_position: default;

@description_size: default;
@description_color: default;
@description_weight: default;
@description_align: default;
@description_hover: 0;
@description_length: 60;

@container_rounding: default;
@container_gutter: default;
@container_background: transparent;
@container_opacity: default;

@grid_desktop: default;
@grid_tablet: default;
@grid_mobile: default;

@tablet_view: ~"only screen and (min-width: 720px)";

@desktop_view: ~"only screen and (min-width: 992px)";

// Mixins

.background (@a) when not (@container_background = transparent) {
  @red: red(@container_background);
  @blue: blue(@container_background);
  @green: green(@container_background);
  background: rgba(@red, @green, @blue, @container_opacity/100);
}

// Mixins
.position (@a) when (@title_position = above) {
  top: 0;
}

.position (@a) when (@title_position = below) {
  bottom: 0;
}

.hover (@a) when (@description_hover = 1) {
  .hashcore-grid-item-info-description {
    display: none;

    @media @tablet_view {
      max-height: 0;
      transition: max-height 0.216s ease-out;
      text-align: @description_align;
      font-size: @description_size;
      font-weight: @description_weight;
      color: @description_color;
      margin: 0;
      overflow: hidden;
      display: block;
  	}
  }

  &:hover .hashcore-grid-item-info-description {
    max-height: 300px;
    transition: max-height 0.216s ease-in;
  }
}

.grid (@desktop: 6, @tablet: 4, @mobile: 2) {
  width: (100%/@mobile);

  @media @tablet_view {
    width: (100%/@tablet);
  }

  @media @desktop_view {
    width: (100%/@desktop);
  }
}
// **********************

.hashcore-posts-container {
  .hashcore-posts-wrapper {
    padding-left: @container_gutter;
    padding-right: @container_gutter;
  }

  .hashcore-grid-item {
    float: left;
    position: relative;
    .grid(@grid_desktop, @grid_tablet, @grid_mobile);
    padding: @container_gutter;
    box-sizing: border-box;

    &:before {
      content: "";
  	  display: block;
  	  padding-top: 100%;
    }
  }

  .hashcore-grid-item-wrapper {
    border-radius: @container_rounding;
    overflow: hidden;
    position: absolute;
    top: @container_gutter;
    left: @container_gutter;
    bottom: @container_gutter;
    right: @container_gutter;

    .hashcore-grid-item-info {
      position: absolute;
      width: 100%;
      text-align: center;
      left: 0;
      color: @title_color;
      .position(@title_position);
      .background(@container_background);

      &-title,
      &-description {
        margin: 0;
      }

      &-title {
        text-align: @title_align;
        font-size: @title_size;
        font-weight: @title_weight;
        color: @title_color;
        line-height: 1.4;
        padding: .3em;
      }

      &-description {
        display: none;
        line-height: 1.6;
      }
    }

    .hover(@description_hover);
  }

  .hashcore-grid-item-image {
    display: inline-block;
    position: relative;
    max-width: 100%;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .hide_mobile {
    display: none;

    @media @tablet_view {
      display: block;
    }
  }

  .hide_tablet {
    display: none;

    @media @desktop_view {
      display: block;
    }
  }
}
