!function(t,e){t.TeehanLax=e()}(this,function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function e(t){return t&&"undefined"!=typeof window&&(t===window||t.nodeType)}function s(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var i,n,h=t||{};for(n=1;n<arguments.length;n++){var o=arguments[n]||{};for(i in o)"object"!=typeof h[i]||e(h[i])?h[i]=h[i]||o[i]:h[i]=s(h[i],o[i])}return h}function i(t,e){e=s(e,i.options),this.elem=t,this.classes=e.classes,this.scroller=window,this.initialised=!1,this.lastKnownScrollY=0,this.menuOffset=e.menuOffset,this.detachPoint=e.detachPoint,this.hideShowOffset=e.hideShowOffset}return t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},i.prototype={constructor:i,init:function(){return this.debouncer=new t(this.update.bind(this)),setTimeout(this.attachEvent.bind(this),100),this},attachEvent:function(){this.initialised||(this.initialised=!0,this.lastKnownScrollY=this.getScrollY(),this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},detach:function(){var t=this.classes;this.elem.hasClass(t.detached)||this.elem.addClass(t.detached)},top:function(){var t=this.classes;this.elem.removeClass(t.detached),this.elem.removeClass(t.hidden)},bottom:function(){var t=this.classes;this.elem.hasClass(t.hidden)&&this.elem.removeClass(t.hidden)},showNav:function(t){var e=this.classes;t?this.elem.hasClass(e.hidden)||this.elem.addClass(e.hidden):this.elem.hasClass(e.hidden)&&this.elem.removeClass(e.hidden)},shouldUpdateState:function(t){return t>=this.hideShowOffset},update:function(){var t=this.getScrollY(),e=this.lastKnownScrollY,s=document.body.offsetHeight,i=window.innerHeight,n=Math.abs(t-e);t>this.menuOffset?(t>this.detachPoint&&this.detach(),this.shouldUpdateState(n)&&this.showNav(t>e)):0>=t&&this.top(),t+i>=s&&this.bottom(),this.lastKnownScrollY=t}},i.options={menuOffset:100,detachPoint:600,hideShowOffset:6,classes:{detached:"nav-detached",hidden:"nav-hidden"}},i});
